package br.com.clarify.util;



public class DbUtil {

	private static Connection connection;

	private DbUtil() {

	}

	public static Connection getConnection() {

		if (connection != null)
			return connection;

		else {
			try {
				Properties prop = new Properties();
				InputStream imputStream = DbUtil.class.getClassLoader().getResourceAsStream("/db.properties");
				prop.load(imputStream);

				String driver = prop.getProperty("driver");
				String url = prop.getProperty("url");
				String usuario = prop.getProperty("usuario");
				String senha = prop.getProperty("senha");

				Class.forName(driver);
				connection = DriverManager.getConnection(url, usuario, senha);

			} catch (Exception e) {
				System.out.println("Arquivo properties não localizado \n" + e.getMessage());
				e.printStackTrace();
			}
		}

		return connection;
	}

}
